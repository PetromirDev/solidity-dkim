{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport Dropzone from \"react-dropzone\";\nimport Metamask from \"./components/MetaMask\";\nimport eth from \"./stores/eth\";\nimport { InsertDriveFileOutlined, AttachFile } from \"@material-ui/icons\";\nimport parseEmail from \"../parse-email/browser\";\nimport toSolidity from \"../parse-email/utils/toSolidity\";\n\nvar verify = function verify(email) {\n  return new _Promise(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(resolve, reject) {\n      var DKIM, dkims, dkimsInBytes, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return eth.getContract(\"DKIM\")[\"catch\"](reject);\n\n            case 2:\n              DKIM = _context.sent;\n              _context.next = 5;\n              return parseEmail(email);\n\n            case 5:\n              dkims = _context.sent;\n              dkimsInBytes = dkims.map(function (dkim) {\n                return toSolidity({\n                  algorithm: dkim.algorithm,\n                  hash: dkim.hash,\n                  signature: dkim.signature.signature,\n                  exponent: dkim.exponent,\n                  modulus: dkim.modulus\n                });\n              });\n              result = _Promise.all(dkimsInBytes.map(function (dkim, i) {\n                return DKIM.verify(dkim.algorithm, dkim.hash, dkim.signature, dkim.exponent, dkim.modulus).then(function (res) {\n                  return {\n                    name: dkims[i].entry.name,\n                    verified: res[\"0\"]\n                  };\n                });\n              }))[\"catch\"](reject);\n              return _context.abrupt(\"return\", resolve(result));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};\n\nvar Home = observer(function () {\n  var _useState = useState(null),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(null),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      verified = _useState3[0],\n      setVerified = _useState3[1];\n\n  var _useState4 = useState(false),\n      dragging = _useState4[0],\n      setDrag = _useState4[1];\n\n  var disabled = !eth.isInstalled || !(eth.network === \"sepolia\" || eth.network === \"unknown network\");\n  var onDrop = useCallback(function (files) {\n    setEmail(null);\n    setError(null);\n    setVerified([]);\n\n    if (files.length < 1) {\n      return setError(\"no file included\");\n    }\n\n    var file = files[0];\n    var reader = new FileReader();\n\n    reader.onabort = function () {\n      return setError(\"file reading was aborted\");\n    };\n\n    reader.onerror = function () {\n      return setError(\"file reading has failed\");\n    };\n\n    reader.onload = function () {\n      return setEmail(reader.result);\n    };\n\n    reader.readAsText(file);\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"container\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n  }, \"solidity-dkim demo\"), __jsx(Metamask, null), __jsx(Dropzone, {\n    onDrop: onDrop,\n    multiple: false,\n    onDragEnter: function onDragEnter() {\n      return setDrag(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDrag(false);\n    }\n  }, function (_ref2) {\n    var getRootProps = _ref2.getRootProps,\n        getInputProps = _ref2.getInputProps;\n    return __jsx(\"section\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    }, __jsx(\"div\", _extends({}, getRootProps({\n      style: {\n        width: \"50vw\",\n        height: \"30vh\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        display: \"flex\",\n        border: dragging || email ? \"3px solid #387fc7\" : \"3px dashed #387fc7\",\n        backgroundColor: \"white\",\n        margin: \"50px\",\n        borderRadius: \"3px\",\n        cursor: \"pointer\"\n      }\n    }), {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    }), __jsx(\"input\", _extends({}, getInputProps(), {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    })), email ? __jsx(\"div\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"fileUploaded\"\n    }, __jsx(InsertDriveFileOutlined, {\n      style: {\n        height: \"8vh\",\n        width: \"auto\",\n        color: \"#397ec7\"\n      }\n    }), \" \", \"FILE LOADED\") : __jsx(\"div\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"fileUploaded\"\n    }, __jsx(AttachFile, {\n      style: {\n        height: \"8vh\",\n        width: \"auto\",\n        color: \"#397ec7\"\n      }\n    }), __jsx(\"p\", {\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n    }, \"Drag 'n' drop some files here, or click to select files\"))));\n  }), __jsx(\"button\", {\n    onClick: function onClick() {\n      return verify(email).then(setVerified)[\"catch\"](setError);\n    },\n    disabled: disabled,\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]])\n  }, \"Verify\"), error ? __jsx(\"p\", {\n    className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"error\"\n  }, \"error: \", error) : verified.length > 0 ? verified.map(function (result) {\n    return result.verified ? __jsx(\"h1\", {\n      key: result.name,\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"verified\"\n    }, result.name, \": verified! \\uD83C\\uDF89\") : __jsx(\"h1\", {\n      key: result.name,\n      className: \"jsx-2659604651 \" + _JSXStyle.dynamic([[\"4003161\", [disabled ? \"0.5\" : \"1\"]]]) + \" \" + \"not-verified\"\n    }, result.name, \": not verified \\uD83D\\uDE14\");\n  }) : \"\", __jsx(_JSXStyle, {\n    id: \"2659604651\"\n  }, \"body{margin:0;padding:0;font-family:sans-serif;color:#003c7d;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RldmxhYnMtcGhwL0Rlc2t0b3AvcHJvamVjdHMvYW1iaXJlL2JzL3NvbGlkaXR5LWRraW0vc3JjL0hvbWUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlKeUIsQUFHb0IsU0FDQyxVQUNhLHVCQUNULGNBQ2hCIiwiZmlsZSI6Ii9ob21lL2RldmxhYnMtcGhwL0Rlc2t0b3AvcHJvamVjdHMvYW1iaXJlL2JzL3NvbGlkaXR5LWRraW0vc3JjL0hvbWUudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XG5pbXBvcnQgRHJvcHpvbmUgZnJvbSBcInJlYWN0LWRyb3B6b25lXCI7XG5pbXBvcnQgTWV0YW1hc2sgZnJvbSBcIi4vY29tcG9uZW50cy9NZXRhTWFza1wiO1xuaW1wb3J0IGV0aCBmcm9tIFwiLi9zdG9yZXMvZXRoXCI7XG5pbXBvcnQgeyBJbnNlcnREcml2ZUZpbGVPdXRsaW5lZCwgQXR0YWNoRmlsZSB9IGZyb20gXCJAbWF0ZXJpYWwtdWkvaWNvbnNcIjtcbmltcG9ydCBwYXJzZUVtYWlsIGZyb20gXCIuLi9wYXJzZS1lbWFpbC9icm93c2VyXCI7XG5pbXBvcnQgdG9Tb2xpZGl0eSBmcm9tIFwiLi4vcGFyc2UtZW1haWwvdXRpbHMvdG9Tb2xpZGl0eVwiO1xuXG5jb25zdCB2ZXJpZnkgPSAoZW1haWw6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgREtJTSA9IGF3YWl0IGV0aC5nZXRDb250cmFjdChcIkRLSU1cIikuY2F0Y2gocmVqZWN0KTtcblxuICAgIGNvbnN0IGRraW1zID0gYXdhaXQgcGFyc2VFbWFpbChlbWFpbCk7XG5cbiAgICBjb25zdCBka2ltc0luQnl0ZXMgPSBka2ltcy5tYXAoZGtpbSA9PiB7XG4gICAgICByZXR1cm4gdG9Tb2xpZGl0eSh7XG4gICAgICAgIGFsZ29yaXRobTogZGtpbS5hbGdvcml0aG0sXG4gICAgICAgIGhhc2g6IGRraW0uaGFzaCxcbiAgICAgICAgc2lnbmF0dXJlOiBka2ltLnNpZ25hdHVyZS5zaWduYXR1cmUsXG4gICAgICAgIGV4cG9uZW50OiBka2ltLmV4cG9uZW50LFxuICAgICAgICBtb2R1bHVzOiBka2ltLm1vZHVsdXNcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gUHJvbWlzZS5hbGwoXG4gICAgICBka2ltc0luQnl0ZXMubWFwKChka2ltLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiBES0lNLnZlcmlmeShcbiAgICAgICAgICBka2ltLmFsZ29yaXRobSxcbiAgICAgICAgICBka2ltLmhhc2gsXG4gICAgICAgICAgZGtpbS5zaWduYXR1cmUsXG4gICAgICAgICAgZGtpbS5leHBvbmVudCxcbiAgICAgICAgICBka2ltLm1vZHVsdXNcbiAgICAgICAgKS50aGVuKHJlcyA9PiAoe1xuICAgICAgICAgIG5hbWU6IGRraW1zW2ldLmVudHJ5Lm5hbWUsXG4gICAgICAgICAgdmVyaWZpZWQ6IHJlc1tcIjBcIl1cbiAgICAgICAgfSkpO1xuICAgICAgfSlcbiAgICApLmNhdGNoKHJlamVjdCk7XG5cbiAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpO1xuICB9KTtcbn07XG5cbmNvbnN0IEhvbWUgPSBvYnNlcnZlcigoKSA9PiB7XG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFt2ZXJpZmllZCwgc2V0VmVyaWZpZWRdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZHJhZ2dpbmcsIHNldERyYWddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkaXNhYmxlZCA9XG4gICAgIWV0aC5pc0luc3RhbGxlZCB8fFxuICAgICEoZXRoLm5ldHdvcmsgPT09IFwic2Vwb2xpYVwiIHx8IGV0aC5uZXR3b3JrID09PSBcInVua25vd24gbmV0d29ya1wiKTtcblxuICBjb25zdCBvbkRyb3AgPSB1c2VDYWxsYmFjayhmaWxlcyA9PiB7XG4gICAgc2V0RW1haWwobnVsbCk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgc2V0VmVyaWZpZWQoW10pO1xuXG4gICAgaWYgKGZpbGVzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybiBzZXRFcnJvcihcIm5vIGZpbGUgaW5jbHVkZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IGZpbGUgPSBmaWxlc1swXTtcblxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICByZWFkZXIub25hYm9ydCA9ICgpID0+IHNldEVycm9yKFwiZmlsZSByZWFkaW5nIHdhcyBhYm9ydGVkXCIpO1xuICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gc2V0RXJyb3IoXCJmaWxlIHJlYWRpbmcgaGFzIGZhaWxlZFwiKTtcbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4gc2V0RW1haWwocmVhZGVyLnJlc3VsdCk7XG5cbiAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDxoMj5zb2xpZGl0eS1ka2ltIGRlbW88L2gyPlxuXG4gICAgICA8TWV0YW1hc2sgLz5cbiAgICAgIDxEcm9wem9uZVxuICAgICAgICBvbkRyb3A9e29uRHJvcH1cbiAgICAgICAgbXVsdGlwbGU9e2ZhbHNlfVxuICAgICAgICBvbkRyYWdFbnRlcj17KCkgPT4gc2V0RHJhZyh0cnVlKX1cbiAgICAgICAgb25EcmFnTGVhdmU9eygpID0+IHNldERyYWcoZmFsc2UpfVxuICAgICAgPlxuICAgICAgICB7KHsgZ2V0Um9vdFByb3BzLCBnZXRJbnB1dFByb3BzIH0pID0+IChcbiAgICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgey4uLmdldFJvb3RQcm9wcyh7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjUwdndcIixcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIzMHZoXCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjpcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dpbmcgfHwgZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiM3B4IHNvbGlkICMzODdmYzdcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCIzcHggZGFzaGVkICMzODdmYzdcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjUwcHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aW5wdXQgey4uLmdldElucHV0UHJvcHMoKX0gLz5cbiAgICAgICAgICAgICAge2VtYWlsID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZVVwbG9hZGVkXCI+XG4gICAgICAgICAgICAgICAgICA8SW5zZXJ0RHJpdmVGaWxlT3V0bGluZWRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjh2aFwiLCB3aWR0aDogXCJhdXRvXCIsIGNvbG9yOiBcIiMzOTdlYzdcIiB9fVxuICAgICAgICAgICAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgICAgICAgICAgICBGSUxFIExPQURFRFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZVVwbG9hZGVkXCI+XG4gICAgICAgICAgICAgICAgICA8QXR0YWNoRmlsZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IFwiOHZoXCIsIHdpZHRoOiBcImF1dG9cIiwgY29sb3I6IFwiIzM5N2VjN1wiIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHA+RHJhZyAnbicgZHJvcCBzb21lIGZpbGVzIGhlcmUsIG9yIGNsaWNrIHRvIHNlbGVjdCBmaWxlczwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvRHJvcHpvbmU+XG5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT5cbiAgICAgICAgICB2ZXJpZnkoZW1haWwpXG4gICAgICAgICAgICAudGhlbihzZXRWZXJpZmllZClcbiAgICAgICAgICAgIC5jYXRjaChzZXRFcnJvcilcbiAgICAgICAgfVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICA+XG4gICAgICAgIFZlcmlmeVxuICAgICAgPC9idXR0b24+XG4gICAgICB7ZXJyb3IgPyAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImVycm9yXCI+ZXJyb3I6IHtlcnJvcn08L3A+XG4gICAgICApIDogdmVyaWZpZWQubGVuZ3RoID4gMCA/IChcbiAgICAgICAgdmVyaWZpZWQubWFwKHJlc3VsdCA9PlxuICAgICAgICAgIHJlc3VsdC52ZXJpZmllZCA/IChcbiAgICAgICAgICAgIDxoMSBrZXk9e3Jlc3VsdC5uYW1lfSBjbGFzc05hbWU9XCJ2ZXJpZmllZFwiPlxuICAgICAgICAgICAgICB7cmVzdWx0Lm5hbWV9OiB2ZXJpZmllZCEg8J+OiVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGgxIGtleT17cmVzdWx0Lm5hbWV9IGNsYXNzTmFtZT1cIm5vdC12ZXJpZmllZFwiPlxuICAgICAgICAgICAgICB7cmVzdWx0Lm5hbWV9OiBub3QgdmVyaWZpZWQg8J+YlFxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICkgOiAoXG4gICAgICAgIFwiXCJcbiAgICAgICl9XG5cbiAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICAgICAgICAgIGNvbG9yOiAjMDAzYzdkO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG5cbiAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIHdpZHRoOiAxMDB2dztcbiAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgIGJhY2tncm91bmQ6IGFsaWNlYmx1ZTtcbiAgICAgICAgfVxuICAgICAgICBoMiB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMTAwcHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICBoMSB7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uIHtcbiAgICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAjMzk3ZWM3O1xuICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBvcGFjaXR5OiAke2Rpc2FibGVkID8gXCIwLjVcIiA6IFwiMVwifTtcbiAgICAgICAgfVxuICAgICAgICAuZXJyb3Ige1xuICAgICAgICAgIGNvbG9yOiAjZDYwMDAwO1xuICAgICAgICB9XG4gICAgICAgIC52ZXJpZmllZCB7XG4gICAgICAgICAgY29sb3I6ICMwMGJiMzk7XG4gICAgICAgIH1cbiAgICAgICAgLm5vdC12ZXJpZmllZCB7XG4gICAgICAgICAgY29sb3I6ICNkNjAwMDA7XG4gICAgICAgIH1cbiAgICAgICAgLmZpbGVVcGxvYWRlZCB7XG4gICAgICAgICAgaGVpZ2h0OiAxMnZoO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSG9tZTtcbiJdfQ== */\\n/*@ sourceURL=/home/devlabs-php/Desktop/projects/ambire/bs/solidity-dkim/src/Home.tsx */\"), __jsx(_JSXStyle, {\n    id: \"4003161\",\n    dynamic: [disabled ? \"0.5\" : \"1\"]\n  }, \".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;width:100vw;height:100vh;background:aliceblue;}h2.__jsx-style-dynamic-selector{margin-top:100px;margin-bottom:30px;}button.__jsx-style-dynamic-selector{height:30px;width:120px;border-radius:3px;background:#397ec7;color:white;border:none;font-family:sans-serif;font-size:16px;cursor:pointer;opacity:\".concat(disabled ? \"0.5\" : \"1\", \";}.error.__jsx-style-dynamic-selector{color:#d60000;}.verified.__jsx-style-dynamic-selector{color:#00bb39;}.not-verified.__jsx-style-dynamic-selector{color:#d60000;}.fileUploaded.__jsx-style-dynamic-selector{height:12vh;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RldmxhYnMtcGhwL0Rlc2t0b3AvcHJvamVjdHMvYW1iaXJlL2JzL3NvbGlkaXR5LWRraW0vc3JjL0hvbWUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtLa0IsQUFHd0IsQUFTSSxBQU1MLEFBWUUsQUFHQSxBQUdBLEFBR0YsWUFwQkEsQUFxQlcsRUFUekIsQUFHQSxBQUdBLEdBeEJxQixPQU9ELFlBTnBCLE1BT3FCLG1CQUNQLFlBQ0EsQ0FuQlUsV0FvQkMsdUJBQ1IsR0FnQkksWUFmSixlQUNzQixjQXRCbEIsdUJBdUJyQiw2QkFjZSx5Q0FwQ2MsaUNBcUNMLHdFQXBDVixNQXFDZCxNQXBDZSxhQUNRLHFCQUN2QiIsImZpbGUiOiIvaG9tZS9kZXZsYWJzLXBocC9EZXNrdG9wL3Byb2plY3RzL2FtYmlyZS9icy9zb2xpZGl0eS1ka2ltL3NyYy9Ib21lLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgb2JzZXJ2ZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xuaW1wb3J0IERyb3B6b25lIGZyb20gXCJyZWFjdC1kcm9wem9uZVwiO1xuaW1wb3J0IE1ldGFtYXNrIGZyb20gXCIuL2NvbXBvbmVudHMvTWV0YU1hc2tcIjtcbmltcG9ydCBldGggZnJvbSBcIi4vc3RvcmVzL2V0aFwiO1xuaW1wb3J0IHsgSW5zZXJ0RHJpdmVGaWxlT3V0bGluZWQsIEF0dGFjaEZpbGUgfSBmcm9tIFwiQG1hdGVyaWFsLXVpL2ljb25zXCI7XG5pbXBvcnQgcGFyc2VFbWFpbCBmcm9tIFwiLi4vcGFyc2UtZW1haWwvYnJvd3NlclwiO1xuaW1wb3J0IHRvU29saWRpdHkgZnJvbSBcIi4uL3BhcnNlLWVtYWlsL3V0aWxzL3RvU29saWRpdHlcIjtcblxuY29uc3QgdmVyaWZ5ID0gKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IERLSU0gPSBhd2FpdCBldGguZ2V0Q29udHJhY3QoXCJES0lNXCIpLmNhdGNoKHJlamVjdCk7XG5cbiAgICBjb25zdCBka2ltcyA9IGF3YWl0IHBhcnNlRW1haWwoZW1haWwpO1xuXG4gICAgY29uc3QgZGtpbXNJbkJ5dGVzID0gZGtpbXMubWFwKGRraW0gPT4ge1xuICAgICAgcmV0dXJuIHRvU29saWRpdHkoe1xuICAgICAgICBhbGdvcml0aG06IGRraW0uYWxnb3JpdGhtLFxuICAgICAgICBoYXNoOiBka2ltLmhhc2gsXG4gICAgICAgIHNpZ25hdHVyZTogZGtpbS5zaWduYXR1cmUuc2lnbmF0dXJlLFxuICAgICAgICBleHBvbmVudDogZGtpbS5leHBvbmVudCxcbiAgICAgICAgbW9kdWx1czogZGtpbS5tb2R1bHVzXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IFByb21pc2UuYWxsKFxuICAgICAgZGtpbXNJbkJ5dGVzLm1hcCgoZGtpbSwgaSkgPT4ge1xuICAgICAgICByZXR1cm4gREtJTS52ZXJpZnkoXG4gICAgICAgICAgZGtpbS5hbGdvcml0aG0sXG4gICAgICAgICAgZGtpbS5oYXNoLFxuICAgICAgICAgIGRraW0uc2lnbmF0dXJlLFxuICAgICAgICAgIGRraW0uZXhwb25lbnQsXG4gICAgICAgICAgZGtpbS5tb2R1bHVzXG4gICAgICAgICkudGhlbihyZXMgPT4gKHtcbiAgICAgICAgICBuYW1lOiBka2ltc1tpXS5lbnRyeS5uYW1lLFxuICAgICAgICAgIHZlcmlmaWVkOiByZXNbXCIwXCJdXG4gICAgICAgIH0pKTtcbiAgICAgIH0pXG4gICAgKS5jYXRjaChyZWplY3QpO1xuXG4gICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcbiAgfSk7XG59O1xuXG5jb25zdCBIb21lID0gb2JzZXJ2ZXIoKCkgPT4ge1xuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbdmVyaWZpZWQsIHNldFZlcmlmaWVkXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2RyYWdnaW5nLCBzZXREcmFnXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZGlzYWJsZWQgPVxuICAgICFldGguaXNJbnN0YWxsZWQgfHxcbiAgICAhKGV0aC5uZXR3b3JrID09PSBcInNlcG9saWFcIiB8fCBldGgubmV0d29yayA9PT0gXCJ1bmtub3duIG5ldHdvcmtcIik7XG5cbiAgY29uc3Qgb25Ecm9wID0gdXNlQ2FsbGJhY2soZmlsZXMgPT4ge1xuICAgIHNldEVtYWlsKG51bGwpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldFZlcmlmaWVkKFtdKTtcblxuICAgIGlmIChmaWxlcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm4gc2V0RXJyb3IoXCJubyBmaWxlIGluY2x1ZGVkXCIpO1xuICAgIH1cbiAgICBjb25zdCBmaWxlID0gZmlsZXNbMF07XG5cbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgcmVhZGVyLm9uYWJvcnQgPSAoKSA9PiBzZXRFcnJvcihcImZpbGUgcmVhZGluZyB3YXMgYWJvcnRlZFwiKTtcbiAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHNldEVycm9yKFwiZmlsZSByZWFkaW5nIGhhcyBmYWlsZWRcIik7XG4gICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHNldEVtYWlsKHJlYWRlci5yZXN1bHQpO1xuXG4gICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICA8aDI+c29saWRpdHktZGtpbSBkZW1vPC9oMj5cblxuICAgICAgPE1ldGFtYXNrIC8+XG4gICAgICA8RHJvcHpvbmVcbiAgICAgICAgb25Ecm9wPXtvbkRyb3B9XG4gICAgICAgIG11bHRpcGxlPXtmYWxzZX1cbiAgICAgICAgb25EcmFnRW50ZXI9eygpID0+IHNldERyYWcodHJ1ZSl9XG4gICAgICAgIG9uRHJhZ0xlYXZlPXsoKSA9PiBzZXREcmFnKGZhbHNlKX1cbiAgICAgID5cbiAgICAgICAgeyh7IGdldFJvb3RQcm9wcywgZ2V0SW5wdXRQcm9wcyB9KSA9PiAoXG4gICAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHsuLi5nZXRSb290UHJvcHMoe1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICB3aWR0aDogXCI1MHZ3XCIsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMzB2aFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nIHx8IGVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgPyBcIjNweCBzb2xpZCAjMzg3ZmM3XCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiM3B4IGRhc2hlZCAjMzg3ZmM3XCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCI1MHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiM3B4XCIsXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGlucHV0IHsuLi5nZXRJbnB1dFByb3BzKCl9IC8+XG4gICAgICAgICAgICAgIHtlbWFpbCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGVVcGxvYWRlZFwiPlxuICAgICAgICAgICAgICAgICAgPEluc2VydERyaXZlRmlsZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGhlaWdodDogXCI4dmhcIiwgd2lkdGg6IFwiYXV0b1wiLCBjb2xvcjogXCIjMzk3ZWM3XCIgfX1cbiAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxuICAgICAgICAgICAgICAgICAgRklMRSBMT0FERURcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGVVcGxvYWRlZFwiPlxuICAgICAgICAgICAgICAgICAgPEF0dGFjaEZpbGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiBcIjh2aFwiLCB3aWR0aDogXCJhdXRvXCIsIGNvbG9yOiBcIiMzOTdlYzdcIiB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxwPkRyYWcgJ24nIGRyb3Agc29tZSBmaWxlcyBoZXJlLCBvciBjbGljayB0byBzZWxlY3QgZmlsZXM8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICl9XG4gICAgICA8L0Ryb3B6b25lPlxuXG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgdmVyaWZ5KGVtYWlsKVxuICAgICAgICAgICAgLnRoZW4oc2V0VmVyaWZpZWQpXG4gICAgICAgICAgICAuY2F0Y2goc2V0RXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgZGlzYWJsZWQ9e2Rpc2FibGVkfVxuICAgICAgPlxuICAgICAgICBWZXJpZnlcbiAgICAgIDwvYnV0dG9uPlxuICAgICAge2Vycm9yID8gKFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJlcnJvclwiPmVycm9yOiB7ZXJyb3J9PC9wPlxuICAgICAgKSA6IHZlcmlmaWVkLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgIHZlcmlmaWVkLm1hcChyZXN1bHQgPT5cbiAgICAgICAgICByZXN1bHQudmVyaWZpZWQgPyAoXG4gICAgICAgICAgICA8aDEga2V5PXtyZXN1bHQubmFtZX0gY2xhc3NOYW1lPVwidmVyaWZpZWRcIj5cbiAgICAgICAgICAgICAge3Jlc3VsdC5uYW1lfTogdmVyaWZpZWQhIPCfjolcbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxoMSBrZXk9e3Jlc3VsdC5uYW1lfSBjbGFzc05hbWU9XCJub3QtdmVyaWZpZWRcIj5cbiAgICAgICAgICAgICAge3Jlc3VsdC5uYW1lfTogbm90IHZlcmlmaWVkIPCfmJRcbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApIDogKFxuICAgICAgICBcIlwiXG4gICAgICApfVxuXG4gICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgICBib2R5IHtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgICAgICAgICBjb2xvcjogIzAwM2M3ZDtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuXG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgICB3aWR0aDogMTAwdnc7XG4gICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBhbGljZWJsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaDIge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDEwMHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICAgIH1cbiAgICAgICAgaDEge1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgIHdpZHRoOiAxMjBweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogIzM5N2VjNztcbiAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgb3BhY2l0eTogJHtkaXNhYmxlZCA/IFwiMC41XCIgOiBcIjFcIn07XG4gICAgICAgIH1cbiAgICAgICAgLmVycm9yIHtcbiAgICAgICAgICBjb2xvcjogI2Q2MDAwMDtcbiAgICAgICAgfVxuICAgICAgICAudmVyaWZpZWQge1xuICAgICAgICAgIGNvbG9yOiAjMDBiYjM5O1xuICAgICAgICB9XG4gICAgICAgIC5ub3QtdmVyaWZpZWQge1xuICAgICAgICAgIGNvbG9yOiAjZDYwMDAwO1xuICAgICAgICB9XG4gICAgICAgIC5maWxlVXBsb2FkZWQge1xuICAgICAgICAgIGhlaWdodDogMTJ2aDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgYH08L3N0eWxlPlxuICAgIDwvZGl2PlxuICApO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEhvbWU7XG4iXX0= */\\n/*@ sourceURL=/home/devlabs-php/Desktop/projects/ambire/bs/solidity-dkim/src/Home.tsx */\")));\n});\nexport default Home;","map":{"version":3,"sources":["/home/devlabs-php/Desktop/projects/ambire/bs/solidity-dkim/src/Home.tsx"],"names":["useState","useCallback","observer","Dropzone","Metamask","eth","InsertDriveFileOutlined","AttachFile","parseEmail","toSolidity","verify","email","resolve","reject","getContract","DKIM","dkims","dkimsInBytes","map","dkim","algorithm","hash","signature","exponent","modulus","result","all","i","then","res","name","entry","verified","Home","setEmail","error","setError","setVerified","dragging","setDrag","disabled","isInstalled","network","onDrop","files","length","file","reader","FileReader","onabort","onerror","onload","readAsText","getRootProps","getInputProps","style","width","height","alignItems","justifyContent","display","border","backgroundColor","margin","borderRadius","cursor","color"],"mappings":"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","sourcesContent":["import { useState, useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport Dropzone from \"react-dropzone\";\nimport Metamask from \"./components/MetaMask\";\nimport eth from \"./stores/eth\";\nimport { InsertDriveFileOutlined, AttachFile } from \"@material-ui/icons\";\nimport parseEmail from \"../parse-email/browser\";\nimport toSolidity from \"../parse-email/utils/toSolidity\";\n\nconst verify = (email: string): Promise<any> => {\n  return new Promise(async (resolve, reject) => {\n    const DKIM = await eth.getContract(\"DKIM\").catch(reject);\n\n    const dkims = await parseEmail(email);\n\n    const dkimsInBytes = dkims.map(dkim => {\n      return toSolidity({\n        algorithm: dkim.algorithm,\n        hash: dkim.hash,\n        signature: dkim.signature.signature,\n        exponent: dkim.exponent,\n        modulus: dkim.modulus\n      });\n    });\n\n    const result = Promise.all(\n      dkimsInBytes.map((dkim, i) => {\n        return DKIM.verify(\n          dkim.algorithm,\n          dkim.hash,\n          dkim.signature,\n          dkim.exponent,\n          dkim.modulus\n        ).then(res => ({\n          name: dkims[i].entry.name,\n          verified: res[\"0\"]\n        }));\n      })\n    ).catch(reject);\n\n    return resolve(result);\n  });\n};\n\nconst Home = observer(() => {\n  const [email, setEmail] = useState(null);\n  const [error, setError] = useState(null);\n  const [verified, setVerified] = useState([]);\n  const [dragging, setDrag] = useState(false);\n  const disabled =\n    !eth.isInstalled ||\n    !(eth.network === \"sepolia\" || eth.network === \"unknown network\");\n\n  const onDrop = useCallback(files => {\n    setEmail(null);\n    setError(null);\n    setVerified([]);\n\n    if (files.length < 1) {\n      return setError(\"no file included\");\n    }\n    const file = files[0];\n\n    const reader = new FileReader();\n\n    reader.onabort = () => setError(\"file reading was aborted\");\n    reader.onerror = () => setError(\"file reading has failed\");\n    reader.onload = () => setEmail(reader.result);\n\n    reader.readAsText(file);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h2>solidity-dkim demo</h2>\n\n      <Metamask />\n      <Dropzone\n        onDrop={onDrop}\n        multiple={false}\n        onDragEnter={() => setDrag(true)}\n        onDragLeave={() => setDrag(false)}\n      >\n        {({ getRootProps, getInputProps }) => (\n          <section>\n            <div\n              {...getRootProps({\n                style: {\n                  width: \"50vw\",\n                  height: \"30vh\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  display: \"flex\",\n                  border:\n                    dragging || email\n                      ? \"3px solid #387fc7\"\n                      : \"3px dashed #387fc7\",\n                  backgroundColor: \"white\",\n                  margin: \"50px\",\n                  borderRadius: \"3px\",\n                  cursor: \"pointer\"\n                }\n              })}\n            >\n              <input {...getInputProps()} />\n              {email ? (\n                <div className=\"fileUploaded\">\n                  <InsertDriveFileOutlined\n                    style={{ height: \"8vh\", width: \"auto\", color: \"#397ec7\" }}\n                  />{\" \"}\n                  FILE LOADED\n                </div>\n              ) : (\n                <div className=\"fileUploaded\">\n                  <AttachFile\n                    style={{ height: \"8vh\", width: \"auto\", color: \"#397ec7\" }}\n                  />\n                  <p>Drag 'n' drop some files here, or click to select files</p>\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n      </Dropzone>\n\n      <button\n        onClick={() =>\n          verify(email)\n            .then(setVerified)\n            .catch(setError)\n        }\n        disabled={disabled}\n      >\n        Verify\n      </button>\n      {error ? (\n        <p className=\"error\">error: {error}</p>\n      ) : verified.length > 0 ? (\n        verified.map(result =>\n          result.verified ? (\n            <h1 key={result.name} className=\"verified\">\n              {result.name}: verified! 🎉\n            </h1>\n          ) : (\n            <h1 key={result.name} className=\"not-verified\">\n              {result.name}: not verified 😔\n            </h1>\n          )\n        )\n      ) : (\n        \"\"\n      )}\n\n      <style jsx global>{`\n        body {\n          margin: 0;\n          padding: 0;\n          font-family: sans-serif;\n          color: #003c7d;\n        }\n      `}</style>\n\n      <style jsx>{`\n        .container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: flex-start;\n          width: 100vw;\n          height: 100vh;\n          background: aliceblue;\n        }\n        h2 {\n          margin-top: 100px;\n          margin-bottom: 30px;\n        }\n        h1 {\n        }\n        button {\n          height: 30px;\n          width: 120px;\n          border-radius: 3px;\n          background: #397ec7;\n          color: white;\n          border: none;\n          font-family: sans-serif;\n          font-size: 16px;\n          cursor: pointer;\n          opacity: ${disabled ? \"0.5\" : \"1\"};\n        }\n        .error {\n          color: #d60000;\n        }\n        .verified {\n          color: #00bb39;\n        }\n        .not-verified {\n          color: #d60000;\n        }\n        .fileUploaded {\n          height: 12vh;\n          justify-content: center;\n          align-items: center;\n          display: flex;\n          flex-direction: column;\n        }\n      `}</style>\n    </div>\n  );\n});\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}